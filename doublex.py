import matplotlib.pyplot as plt
import numpy as np

sizenum = [3.0,20.47,37.94,55.41,72.88,90.35,107.82,125.29,142.76,160.23,177.7,
           195.17,212.64,230.11,247.58,265.05,282.52,299.99,317.46,334.93,352.4,369.87,387.34,404.81,422.28,439.75,457.22,474.69,492.16,509.63,527.1,544.57,562.04,579.51,596.98,614.45,631.92,649.39,666.86,684.33,701.8,719.27,736.74,754.21,771.68,789.15,806.62,824.09,841.56,859.03,876.5,893.97,911.44,928.91,946.38,963.85,981.32,998.79,1016.26,1033.73,1051.2,1068.67,1086.14,1103.61,1121.08,1138.55,1156.02,1173.49,1190.96,1208.43,1225.9,1243.37,1260.84,1278.31,1295.78,1313.25,1330.72,1348.19,1365.66,1383.13,1400.6,1418.07,1435.54,1453.01,1470.48,1487.95,1505.42,1522.89,1540.36,1557.83,1575.3,1592.77,1610.24,1627.71,1645.18,1662.65,1680.12,1697.59,1715.06,1732.53]
sizes = [3.0,20.47,37.94,55.41,72.88,90.35,107.82,125.29,142.76,160.23,177.7,195.17,212.64,230.11,247.58,265.05,282.52,299.99,317.46,334.93,352.4,369.87,387.34,404.81,422.28,439.75,457.22,474.69,492.16,509.63,527.1,544.57,562.04,579.51,596.98,614.45,631.92,649.39,666.86,684.33,701.8,719.27,736.74,754.21,771.68,789.15,806.62,824.09,841.56,859.03,876.5,893.97,911.44,928.91,946.38,963.85,981.32,998.79,1016.26,1033.73,1051.2,1068.67,1086.14,1103.61,1121.08,1138.55,1156.02,1173.49,1190.96,1208.43,1225.9,1243.37,1260.84,1278.31,1295.78,1313.25,1330.72,1348.19,1365.66,1383.13,1400.6,1418.07,1435.54,1453.01,1470.48,1487.95,1505.42,1522.89,1540.36,1557.83,1575.3,1592.77,1610.24,1627.71,1645.18,1662.65,1680.12,1697.59,1715.06,1732.53]


def fahrenheit2celsius(temp):
    """
    Returns temperature in Celsius.
    """
    return (5. / 9.) * (temp - 32)


def convert_ax_c_to_celsius(ax_f):ï¼›
    """
    Update second axis according with first axis.
    """
    x1, x2 = ax_f.get_xlim()
    ax_c.set_xlim(fahrenheit2celsius(x1), fahrenheit2celsius(x2))
    ax_c.figure.canvas.draw()

fig, ax_f = plt.subplots()
ax_c = ax_f.twiny()

# automatically update ylim of ax2 when ylim of ax1 changes.
ax_f.callbacks.connect("ylim_changed", convert_ax_c_to_celsius)
#ax_f.plot(np.linspace(-40, 120, 100))
#ax_f.set_ylim(0, 100)
ax_f.plot(sizes, sizenum)
# ax_f.set_title('Two scales: Fahrenheit and Celsius')
# ax_f.set_ylabel('Fahrenheit')
# ax_c.set_ylabel('Celsius')

plt.show()